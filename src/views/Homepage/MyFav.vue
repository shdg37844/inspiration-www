<script setup>
import { ref } from 'vue'
import { useRouter } from 'vue-router';
import inspirationService from '@/services/inspiration'
import "@/assets/css/MyFav.css"

const router = useRouter()
const favorites = ref([])
const favText = ref('')
const favTextarea = ref('')
const showFavForm = ref(false)
const showEditForm = ref(false)
const isChanged = ref(false)
const editFavText = ref('');
const editFavTextarea = ref('');
const currentFavId = ref(null);

async function fetchFav() {
    try {
        const allresponse = await inspirationService.getFav();
        const bindresponse = await inspirationService.getFavIns();
        const fav_ids_Res = allresponse.data.favorite
        const bind = bindresponse.data.FavInsCount

        const favResults = fav_ids_Res.map(item => ({
            id: item.id,
            name: item.name,
            description: item.description,
            count: bind.find(p => item.id === p.fav_id)?.insCount || 0
        }))

        favorites.value = favResults
    } catch (e) {
        console.error(e);
    }
}
fetchFav()

async function handleAddFav() {
    const name = favText.value
    const description = favTextarea.value

    if (name === '') {
        alert('收藏夹名字不能为空！')
        return
    }

    try {
        await inspirationService.createFav(name, description)
        favorites.value.push({
            name: name,
            description: description,
        })
        alert("创建成功！")
        showFavForm.value = false;
        favText.value = '';
        favTextarea.value = '';
    } catch (e) {
        console.error(e);
    }
}

function toggleChange() {
    isChanged.value = !isChanged.value
}

function handleOpenFav(id) {
    router.push(`/fav/${id}`);
}

function clickOpenEditForm(fav_id) {
    showEditForm.value = true;
    currentFavId.value = fav_id;

    const selectedFav = favorites.value.find(item => item.id === fav_id)
    editFavText.value = selectedFav.name;
    editFavTextarea.value = selectedFav.description;
}

async function handleSaveFavUpdate() {
    const id = currentFavId.value
    const name = editFavText.value
    const description = editFavTextarea.value

    try {
        const response = await inspirationService.updateFav(id, name, description)
        if (response.error_code === 0) {
            alert("修改成功")
            showEditForm.value = false
            const index = favorites.value.findIndex(item => item.id === id)
            favorites.value[index].name = name
            favorites.value[index].description = description
        } else {
            console.error("更新失败：", response.message);
        }
    } catch (e) {
        console.error(e);
    }
}

async function handleDeleteFav() {
    const isConfirmed = confirm("确认删除该收藏夹？");

    if (!isConfirmed) {
        return;
    }

    const id = currentFavId.value

    try {
        const response = await inspirationService.deleteFav(id)
        if (response.error_code === 0) {
            alert("移除成功")
            showEditForm.value = false
            const index = favorites.value.findIndex(item => item.id === id)
            favorites.value.splice(index, 1)
        }

    } catch (e) {
        console.error(e);
    }
}

</script>


<template>
    <div class="fav-wrap">
        <div class="fav-header">
            <div class="header-left">我的收藏</div>
            <div class="header-right" @click="showFavForm = true">
                <svg class="createIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                    fill="none">
                    <path d="M1 12H23M11.9998 1V23" stroke="#333333" stroke-width="4" />
                </svg>
                <svg class="createIcon-hover" width="40" height="40" viewBox="0 0 40 40" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <circle cx="20" cy="20" r="20" fill="#EEEEEE" />
                    <path d="M9 20H31M19.9998 9V31" stroke="#333333" stroke-width="4" />
                </svg>
                <svg class="prompt-text" width="84" height="33" viewBox="0 0 84 33" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <g filter="url(#filter0_d_168_1859)">
                        <rect width="76" height="25" transform="translate(4 2)" fill="black" fill-opacity="0.8" />
                        <path
                            d="M17.148 13.816V15.976C17.148 16.3 16.98 16.468 16.668 16.468C16.308 16.468 15.9 16.444 15.444 16.396L15.66 17.212C16.08 17.236 16.524 17.248 16.98 17.248C17.64 17.224 17.976 16.888 17.988 16.24V13.048H13.716V19.072C13.716 19.684 14.04 19.996 14.712 19.996H17.568C18.132 19.996 18.516 19.9 18.708 19.708C18.924 19.468 19.08 18.844 19.164 17.824L18.348 17.56C18.3 18.22 18.216 18.664 18.108 18.892C18.012 19.084 17.748 19.192 17.34 19.192H15.048C14.736 19.192 14.592 19.048 14.592 18.772V13.816H17.148ZM15.624 9.304C14.664 10.744 13.596 11.992 12.42 13.06L12.924 13.756C14.1 12.652 15.12 11.44 16.008 10.12C16.776 10.936 17.676 12.028 18.708 13.396L19.272 12.796C18.312 11.572 17.304 10.408 16.26 9.304H15.624ZM19.98 10.252V17.728H20.82V10.252H19.98ZM21.984 20.092C22.656 20.092 23.004 19.72 23.004 19V9.232H22.14V18.784C22.14 19.144 21.984 19.324 21.684 19.324C21.132 19.324 20.544 19.3 19.932 19.264L20.124 20.092H21.984ZM34.488 14.116V12.436H35.292V11.716H34.488V10.048H31.92V9.172H31.08V10.048H28.98V10.768H31.08V11.716H28.392V12.436H31.08V13.396H28.98V14.116H31.08V15.076H28.728V15.784H31.08V16.78H28.356V17.512H31.08V18.7H31.92V17.512H35.076V16.78H31.92V15.784H34.728V15.076H31.92V14.116H34.488ZM31.92 10.768H33.648V11.716H31.92V10.768ZM31.92 12.436H33.648V13.396H31.92V12.436ZM31.356 19.132C29.724 19.108 28.488 18.88 27.672 18.424C27.468 18.304 27.276 18.148 27.084 17.944C27.66 16.84 27.984 15.496 28.032 13.912V13.396H26.148C26.724 12.58 27.324 11.632 27.924 10.528V9.82H24.984V10.636H26.952C26.376 11.668 25.728 12.628 25.032 13.516V14.188H27.252C27.18 15.328 26.94 16.324 26.532 17.176C26.22 16.648 25.932 15.952 25.692 15.1L24.972 15.364C25.26 16.396 25.644 17.248 26.112 17.92C25.728 18.472 25.26 18.952 24.696 19.36L25.26 20.092C25.812 19.672 26.292 19.18 26.676 18.616C26.796 18.736 26.928 18.844 27.084 18.964C28.02 19.588 29.568 19.9 31.728 19.9H35.28L35.424 19.072C34.032 19.108 32.676 19.132 31.356 19.132ZM37.08 17.824C37.992 17.584 38.88 17.32 39.72 17.02V20.128H40.572V9.256H39.72V16.18C39.12 16.408 38.52 16.612 37.92 16.78V10.228H37.08V16.804C37.08 16.924 36.984 17.02 36.816 17.092L37.08 17.824ZM43.02 11.872H45.432C45.36 13.528 44.976 14.968 44.256 16.192C43.56 15.208 43.008 14.128 42.576 12.952C42.732 12.616 42.876 12.256 43.02 11.872ZM42.072 13.888C42.504 14.992 43.068 16.012 43.74 16.972C42.996 17.956 41.988 18.76 40.728 19.384L41.22 20.164C42.468 19.492 43.488 18.664 44.28 17.668C45.036 18.604 45.936 19.468 46.98 20.248L47.568 19.552C46.512 18.784 45.6 17.908 44.808 16.924C45.696 15.532 46.176 13.84 46.26 11.872H47.292V11.02H43.284C43.428 10.492 43.56 9.916 43.68 9.304L42.816 9.16C42.468 11.272 41.796 12.964 40.812 14.212L41.352 14.872C41.604 14.572 41.844 14.248 42.072 13.888ZM48.78 9.964V10.72H51.576V11.548H52.464V10.72H55.548V11.56H56.292V12.052H50.88V13.66H49.788V11.644H49.044V14.38H50.88V15.592H48.552V16.312H49.236C49.188 17.716 48.924 18.676 48.444 19.204L49.044 19.672C49.572 19.036 49.872 17.92 49.92 16.312H50.88V16.444C50.856 17.812 50.64 18.868 50.208 19.636L50.832 20.2C51.36 19.252 51.636 18.004 51.66 16.444V12.784H56.304C56.352 14.344 56.472 15.616 56.664 16.6C56.736 17.008 56.832 17.38 56.94 17.728C56.604 18.292 56.208 18.76 55.752 19.144V18.652H54.696V17.512H55.74V15.232H54.696V14.188H55.752V13.492H52.332V19.348H55.476L55.272 19.48L55.68 20.128C56.28 19.768 56.808 19.276 57.264 18.652C57.36 18.892 57.456 19.096 57.576 19.288C57.936 19.864 58.284 20.164 58.596 20.164C58.98 20.164 59.28 19.42 59.484 17.932L58.86 17.584C58.74 18.664 58.596 19.204 58.452 19.216C58.332 19.216 58.152 18.976 57.936 18.52C57.852 18.352 57.78 18.148 57.708 17.908C58.272 16.828 58.644 15.448 58.836 13.744L58.104 13.588C57.984 14.776 57.756 15.808 57.42 16.696C57.396 16.576 57.372 16.444 57.348 16.3C57.204 15.484 57.108 14.308 57.06 12.784H59.316V12.052H58.716C58.596 11.668 58.464 11.332 58.344 11.032L57.612 11.152C57.756 11.428 57.888 11.728 58.008 12.052H57.048V11.38H56.436V10.72H59.232V9.964H56.436V9.208H55.548V9.964H52.464V9.196H51.576V9.964H48.78ZM54.012 14.188V15.232H53.04V14.188H54.012ZM53.04 15.868H55.068V16.864H53.04V15.868ZM53.04 17.512H54.012V18.652H53.04V17.512ZM61.224 10.684V11.5H65.556V13.132C65.532 13.756 65.46 14.332 65.352 14.884H60.744V15.7H65.136C64.968 16.204 64.74 16.66 64.464 17.092C63.732 18.064 62.448 18.844 60.6 19.444L61.068 20.164C62.928 19.576 64.272 18.76 65.088 17.704C65.472 17.176 65.784 16.564 66.012 15.856C66.648 17.668 68.28 19.096 70.92 20.152L71.376 19.408C68.88 18.52 67.332 17.284 66.744 15.7H71.256V14.884H68.808C69.264 14.116 69.648 13.252 69.96 12.268L69.096 12.028C68.748 13.156 68.352 14.104 67.908 14.884H66.252C66.348 14.344 66.408 13.756 66.432 13.132V11.5H70.776V10.684H66.432V9.208H65.556V10.684H61.224ZM62.832 12.04L62.04 12.304C62.376 13.048 62.664 13.816 62.892 14.608L63.696 14.404C63.444 13.516 63.156 12.736 62.832 12.04Z"
                            fill="white" />
                    </g>
                    <defs>
                        <filter id="filter0_d_168_1859" x="0" y="0" width="84" height="33" filterUnits="userSpaceOnUse"
                            color-interpolation-filters="sRGB">
                            <feFlood flood-opacity="0" result="BackgroundImageFix" />
                            <feColorMatrix in="SourceAlpha" type="matrix"
                                values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha" />
                            <feOffset dy="2" />
                            <feGaussianBlur stdDeviation="2" />
                            <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0" />
                            <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_168_1859" />
                            <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_168_1859"
                                result="shape" />
                        </filter>
                    </defs>
                </svg>
            </div>
        </div>

        <div class="favorites-list" v-if="favorites.length > 0">
            <div class="favorite-item-container" v-for="fav in favorites" :key="fav.id">
                <div class="images-box">
                    <div class="box-left"></div>
                    <div class="box-right">
                        <div class="box-left-cell-first"></div>
                        <div class="box-left-cell"></div>
                    </div>
                    <div class="overlay"></div>
                    <svg class="edit-icon" @click="clickOpenEditForm(fav.id)" width="40" height="40" viewBox="0 0 40 40"
                        fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="20" cy="20" r="20" fill="white" fill-opacity="0.8" />
                        <path d="M22 14L25 11L29 15L26 18L22 14Z" fill="#333333" />
                        <path d="M25 19L21 15L11 25V29H15L25 19Z" fill="#333333" />
                    </svg>

                </div>
                <div class="fav-name" @click="handleOpenFav(fav.id)">{{ fav.name }}</div>
                <div class="count">
                    <span>{{ fav.count }}</span>&nbsp;
                    <span>张</span>
                </div>
            </div>
        </div>
        <div class="blank-icon" v-else>
            <svg width="120" height="120" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M84.9969 57.877L75.2618 47.944L58.9992 64.5356L42.7382 47.9424L33 57.8785L49.2626 74.4718L33.0016 91.0635L42.7366 100.996L58.9977 84.4048L75.2618 101L85 91.0651L68.7343 74.4686L84.9969 57.877Z"
                    fill="black" fill-opacity="0.1" />
                <path d="M57.8417 21.0055L46.1769 21.0039L46.1753 40.029L57.8417 40.029L57.8417 21.0055Z" fill="black"
                    fill-opacity="0.1" />
                <path d="M72.9989 40.0298L72.9973 21.0048L61.3325 21L61.3341 40.0282L72.9989 40.0298Z" fill="black"
                    fill-opacity="0.1" />
            </svg>
        </div>
    </div>

    <div class="fav-mask" v-if="showFavForm">
        <div class="fav-content">
            <div class="title-section">
                <span>创建收藏夹</span>
            </div>
            <div class="form-section">
                <div class="form-block">
                    <div class="form-title">名称</div>
                    <el-input v-model="favText" style="width: 519px" maxlength="10" placeholder="请输入空间名称，如：客厅、厨房"
                        show-word-limit type="text" />
                </div>
                <div class="form-block">
                    <div class="form-title">描述（选填）</div>
                    <el-input v-model="favTextarea" class="fav-textarea" maxlength="80" style="width: 519px;"
                        placeholder="请输入内容" show-word-limit type="textarea" />
                </div>
            </div>
            <div class="private-section">
                <svg width="182" height="47" viewBox="0 0 182 47" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M1.568 31.402V32.382H4.116V35.602C4.116 35.742 4.102 35.91 4.102 36.092H0.812V37.058H4.046C3.934 38.178 3.738 39.13 3.444 39.942C2.996 41.006 2.198 41.86 1.064 42.504L1.61 43.372C2.842 42.728 3.724 41.818 4.256 40.642C4.676 39.69 4.942 38.5 5.068 37.058H9.114V43.26H10.136V37.058H13.202V36.092H10.136V32.382H12.474V31.402H1.568ZM5.152 32.382H9.114V36.092H5.138C5.138 35.938 5.152 35.77 5.152 35.602V32.382ZM26.222 38.066H18.102V43.456H19.082V42.728H25.242V43.456H26.222V38.066ZM19.082 41.776V39.018H25.242V41.776H19.082ZM25.382 33.026V35.224H17.192V33.026H25.382ZM17.192 36.162H26.376V32.074H21.882C21.658 31.458 21.448 30.912 21.238 30.436L20.188 30.604C20.44 31.052 20.664 31.542 20.86 32.074H16.198V36.764C16.184 39.2 15.638 41.174 14.546 42.714L15.33 43.414C16.562 41.566 17.178 39.34 17.192 36.764V36.162ZM31.192 35.504H41.272V34.524H31.192V32.564C34.608 32.48 37.688 32.172 40.432 31.612L39.928 30.702C37.044 31.304 33.81 31.626 30.198 31.668V35.868C30.114 38.724 29.568 40.964 28.546 42.588L29.288 43.358C30.464 41.496 31.108 39.004 31.192 35.868V35.504ZM40.166 37.464H32.48V43.4H33.488V42.742H39.158V43.4H40.166V37.464ZM33.488 41.762V38.43H39.158V41.762H33.488ZM47.306 32.102V33.012H50.26C49.252 34.51 48.426 35.434 47.782 35.784C47.726 35.812 47.67 35.84 47.586 35.868L47.81 36.736C49.056 36.694 50.232 36.638 51.324 36.568C50.288 37.632 49 38.43 47.46 38.948L47.992 39.788C50.596 38.85 52.584 37.114 53.942 34.566L53.088 34.118C52.78 34.678 52.444 35.21 52.08 35.7C51.072 35.77 50.064 35.826 49.056 35.868C49.714 35.294 50.484 34.342 51.366 33.012H55.44V32.102H52.066C51.842 31.458 51.604 30.884 51.38 30.38L50.33 30.548C50.61 31.024 50.848 31.542 51.058 32.102H47.306ZM52.206 40.586C53.256 41.538 54.096 42.462 54.726 43.33L55.454 42.602C54.726 41.72 53.858 40.852 52.85 39.984C53.788 39.032 54.614 37.912 55.314 36.652L54.46 36.19C52.78 39.298 50.246 41.384 46.872 42.462L47.418 43.33C49.238 42.714 50.834 41.79 52.206 40.586ZM44.296 30.73L43.596 31.416C44.59 32.158 45.374 32.858 45.948 33.516L46.634 32.83C45.99 32.13 45.22 31.43 44.296 30.73ZM42.588 34.846V35.812H44.646V41.412C44.646 41.636 44.534 41.832 44.338 42.014L44.73 42.91C45.682 42.28 46.592 41.552 47.446 40.74L47.166 39.676C46.62 40.208 46.102 40.684 45.612 41.09V34.846H42.588ZM57.26 40.628C58.324 40.348 59.36 40.04 60.34 39.69V43.316H61.334V30.632H60.34V38.71C59.64 38.976 58.94 39.214 58.24 39.41V31.766H57.26V39.438C57.26 39.578 57.148 39.69 56.952 39.774L57.26 40.628ZM64.19 33.684H67.004C66.92 35.616 66.472 37.296 65.632 38.724C64.82 37.576 64.176 36.316 63.672 34.944C63.854 34.552 64.022 34.132 64.19 33.684ZM63.084 36.036C63.588 37.324 64.246 38.514 65.03 39.634C64.162 40.782 62.986 41.72 61.516 42.448L62.09 43.358C63.546 42.574 64.736 41.608 65.66 40.446C66.542 41.538 67.592 42.546 68.81 43.456L69.496 42.644C68.264 41.748 67.2 40.726 66.276 39.578C67.312 37.954 67.872 35.98 67.97 33.684H69.174V32.69H64.498C64.666 32.074 64.82 31.402 64.96 30.688L63.952 30.52C63.546 32.984 62.762 34.958 61.614 36.414L62.244 37.184C62.538 36.834 62.818 36.456 63.084 36.036ZM70.91 31.458V32.34H74.172V33.306H75.208V32.34H78.806V33.32H79.674V33.894H73.36V35.77H72.086V33.418H71.218V36.61H73.36V38.024H70.644V38.864H71.442C71.386 40.502 71.078 41.622 70.518 42.238L71.218 42.784C71.834 42.042 72.184 40.74 72.24 38.864H73.36V39.018C73.332 40.614 73.08 41.846 72.576 42.742L73.304 43.4C73.92 42.294 74.242 40.838 74.27 39.018V34.748H79.688C79.744 36.568 79.884 38.052 80.108 39.2C80.192 39.676 80.304 40.11 80.43 40.516C80.038 41.174 79.576 41.72 79.044 42.168V41.594H77.812V40.264H79.03V37.604H77.812V36.386H79.044V35.574H75.054V42.406H78.722L78.484 42.56L78.96 43.316C79.66 42.896 80.276 42.322 80.808 41.594C80.92 41.874 81.032 42.112 81.172 42.336C81.592 43.008 81.998 43.358 82.362 43.358C82.81 43.358 83.16 42.49 83.398 40.754L82.67 40.348C82.53 41.608 82.362 42.238 82.194 42.252C82.054 42.252 81.844 41.972 81.592 41.44C81.494 41.244 81.41 41.006 81.326 40.726C81.984 39.466 82.418 37.856 82.642 35.868L81.788 35.686C81.648 37.072 81.382 38.276 80.99 39.312C80.962 39.172 80.934 39.018 80.906 38.85C80.738 37.898 80.626 36.526 80.57 34.748H83.202V33.894H82.502C82.362 33.446 82.208 33.054 82.068 32.704L81.214 32.844C81.382 33.166 81.536 33.516 81.676 33.894H80.556V33.11H79.842V32.34H83.104V31.458H79.842V30.576H78.806V31.458H75.208V30.562H74.172V31.458H70.91ZM77.014 36.386V37.604H75.88V36.386H77.014ZM75.88 38.346H78.246V39.508H75.88V38.346ZM75.88 40.264H77.014V41.594H75.88V40.264ZM85.428 32.298V33.25H90.482V35.154C90.454 35.882 90.37 36.554 90.244 37.198H84.868V38.15H89.992C89.796 38.738 89.53 39.27 89.208 39.774C88.354 40.908 86.856 41.818 84.7 42.518L85.246 43.358C87.416 42.672 88.984 41.72 89.936 40.488C90.384 39.872 90.748 39.158 91.014 38.332C91.756 40.446 93.66 42.112 96.74 43.344L97.272 42.476C94.36 41.44 92.554 39.998 91.868 38.15H97.132V37.198H94.276C94.808 36.302 95.256 35.294 95.62 34.146L94.612 33.866C94.206 35.182 93.744 36.288 93.226 37.198H91.294C91.406 36.568 91.476 35.882 91.504 35.154V33.25H96.572V32.298H91.504V30.576H90.482V32.298H85.428ZM87.304 33.88L86.38 34.188C86.772 35.056 87.108 35.952 87.374 36.876L88.312 36.638C88.018 35.602 87.682 34.692 87.304 33.88ZM103.39 37.352V38.318H108.71V41.846C108.71 42.252 108.472 42.462 108.024 42.462C107.478 42.462 106.904 42.434 106.302 42.392L106.512 43.358H108.374C109.27 43.358 109.718 42.938 109.718 42.098V38.318H111.412V37.352H109.718V35.938H108.71V37.352H103.39ZM101.542 30.562V37.534C100.366 38.57 99.372 39.354 98.532 39.858L98.98 40.824C99.764 40.306 100.618 39.62 101.542 38.752V43.386H102.564V30.562H101.542ZM105.168 38.892L104.426 39.354C105.154 40.208 105.742 40.992 106.176 41.692L106.96 41.132C106.54 40.488 105.952 39.746 105.168 38.892ZM106.148 32.522H109.788C109.326 33.334 108.57 34.034 107.52 34.608C107.058 34.174 106.568 33.768 106.05 33.39L105.336 33.936C105.77 34.244 106.218 34.594 106.666 35.014C105.826 35.35 104.86 35.644 103.754 35.882L104.258 36.778C107.87 35.952 110.082 34.51 110.88 32.466V31.598H106.792C106.946 31.318 107.086 31.038 107.212 30.744L106.176 30.548C105.644 31.822 104.622 32.844 103.096 33.6L103.74 34.384C104.706 33.88 105.504 33.264 106.148 32.522ZM99.414 32.2L98.546 32.55C99.162 33.418 99.722 34.44 100.226 35.616L101.108 35.252C100.632 34.174 100.072 33.152 99.414 32.2ZM115.598 30.478C114.954 32.648 113.918 34.58 112.49 36.26L112.812 37.296C113.344 36.722 113.834 36.12 114.282 35.49V43.428H115.304V33.852C115.794 32.928 116.2 31.962 116.536 30.926L115.598 30.478ZM124.782 43.4L125.468 42.588C123.956 41.594 122.682 40.502 121.674 39.298C122.99 37.394 123.886 35.07 124.362 32.34V31.444H117.124V32.41H117.852C118.076 34.93 118.93 37.212 120.428 39.256C119.364 40.6 118.034 41.706 116.424 42.574L117.11 43.414C118.664 42.532 119.994 41.426 121.086 40.082C122.066 41.258 123.298 42.364 124.782 43.4ZM121.016 38.458C119.728 36.666 119 34.65 118.804 32.41H123.34C122.92 34.748 122.15 36.764 121.016 38.458ZM137.704 32.228H132.342C132.622 31.752 132.846 31.22 133 30.66L131.978 30.52C131.838 31.108 131.6 31.668 131.292 32.228H128.296V43.386H129.318V42.518H136.682V43.386H137.704V32.228ZM129.318 41.552V39.27H136.682V41.552H129.318ZM129.318 38.346V36.204H136.682V38.346H129.318ZM129.318 35.28V33.194H136.682V35.28H129.318ZM153.244 39.354L152.264 39.032C152.194 40.194 152.068 40.964 151.9 41.356C151.704 41.762 151.284 41.972 150.626 41.972H143.934C143.206 41.944 142.842 41.622 142.842 40.978V36.904H151.69V31.304H141.638V32.284H150.682V35.924H141.82V41.328C141.82 42.392 142.38 42.938 143.528 42.938H150.794C151.69 42.938 152.292 42.714 152.586 42.28C152.894 41.832 153.104 40.852 153.244 39.354ZM154.77 31.402V32.382H164.402V41.65C164.402 42.126 164.164 42.378 163.716 42.378C163.016 42.378 162.274 42.35 161.504 42.322L161.728 43.302H164.066C164.962 43.302 165.41 42.826 165.41 41.902V32.382H167.258V31.402H154.77ZM161.84 34.524H156.394V40.894H157.374V39.662H161.84V34.524ZM157.374 38.738V35.434H160.874V38.738H157.374ZM179.046 31.15H170.8V38.864H171.808V32.13H178.024V38.85H179.046V31.15ZM174.328 33.068V35.7C174.272 37.464 173.866 38.906 173.11 40.012C172.298 41.076 170.856 41.93 168.784 42.574L169.33 43.428C171.416 42.77 172.914 41.86 173.824 40.698C174.762 39.452 175.266 37.786 175.322 35.7V33.068H174.328ZM179.312 43.134C179.788 43.12 180.152 43.008 180.404 42.784C180.67 42.504 180.866 41.692 180.992 40.376L180.026 40.068C179.97 41.16 179.83 41.804 179.634 41.986C179.48 42.112 179.284 42.182 179.046 42.182H176.848C176.428 42.182 176.232 41.916 176.232 41.412V37.842H175.238V41.594C175.238 42.616 175.672 43.134 176.568 43.134H179.312Z"
                        fill="#666666" />
                    <path
                        d="M6.112 11.512V12.968H12.064V16.616C12.064 17.032 11.824 17.24 11.344 17.24C10.72 17.24 10.08 17.208 9.408 17.144L9.744 18.6H11.872C12.992 18.6 13.568 18.056 13.568 17V12.968H15.376V11.512H13.568V10.024H12.064V11.512H6.112ZM3.872 3.88V11.848C2.576 13 1.456 13.848 0.512 14.424L1.184 15.896C2.016 15.32 2.912 14.584 3.872 13.672V18.632H5.408V3.88H3.872ZM8.352 13.368L7.232 14.072C8.032 15.016 8.656 15.88 9.136 16.648L10.32 15.816C9.872 15.112 9.216 14.296 8.352 13.368ZM9.376 6.344H13.184C12.704 7.112 11.92 7.768 10.864 8.328C10.4 7.896 9.904 7.48 9.376 7.08L8.304 7.896C8.704 8.184 9.12 8.52 9.552 8.904C8.688 9.224 7.664 9.512 6.512 9.736L7.264 11.096C11.504 10.184 14.032 8.568 14.864 6.248V4.952H10.336C10.464 4.696 10.592 4.424 10.72 4.152L9.152 3.864C8.576 5.24 7.44 6.328 5.76 7.16L6.736 8.344C7.792 7.8 8.672 7.144 9.376 6.344ZM1.856 5.704L0.544 6.232C1.184 7.256 1.76 8.44 2.304 9.8L3.632 9.24C3.136 7.992 2.544 6.824 1.856 5.704ZM17.36 15.576C18.544 15.272 19.696 14.92 20.784 14.536V18.536H22.272V17.32L23.072 18.616C24.672 17.752 25.984 16.696 27.024 15.448C27.984 16.648 29.12 17.752 30.432 18.744L31.472 17.512C30.128 16.52 28.944 15.4 27.952 14.152C29.04 12.328 29.664 10.168 29.792 7.672H31.056V6.184H26C26.16 5.528 26.32 4.824 26.448 4.088L24.928 3.832C24.48 6.648 23.616 8.888 22.352 10.552L23.28 11.704C23.568 11.352 23.856 10.984 24.128 10.568C24.656 11.848 25.312 13.064 26.096 14.2C25.136 15.416 23.856 16.424 22.272 17.192V3.96H20.784V13.08C20.128 13.336 19.472 13.56 18.8 13.768V5.288H17.312V13.832C17.312 14.04 17.168 14.2 16.912 14.296L17.36 15.576ZM25.536 7.672H28.352C28.24 9.64 27.792 11.368 26.992 12.84C26.192 11.656 25.52 10.36 25.008 8.952C25.2 8.536 25.376 8.12 25.536 7.672ZM32.992 4.776V6.104H36.592V7.048H38.128V6.104H41.888V7.064H42.912V7.592H35.68V9.704H34.56V7.208H33.264V10.968H35.68V12.328H32.688V13.592H33.536C33.456 15.32 33.12 16.504 32.544 17.16L33.568 17.976C34.24 17.144 34.608 15.672 34.704 13.592H35.68C35.648 15.336 35.392 16.696 34.88 17.672L35.968 18.664C36.64 17.368 37.008 15.656 37.04 13.528V8.856H42.944C43.008 10.904 43.168 12.552 43.424 13.832C43.52 14.328 43.632 14.792 43.76 15.208C43.376 15.864 42.912 16.424 42.368 16.888V16.344H41.168V15.128H42.4V11.88H41.168V10.776H42.368V9.592H37.728V17.544H41.648L42.288 18.584C43.056 18.136 43.744 17.544 44.32 16.776C44.416 17.016 44.544 17.24 44.672 17.432C45.168 18.2 45.632 18.6 46.08 18.6C46.656 18.6 47.104 17.592 47.392 15.576L46.304 14.968C46.144 16.248 46 16.904 45.856 16.904C45.728 16.904 45.552 16.616 45.296 16.056C45.232 15.912 45.168 15.736 45.104 15.528C45.84 14.088 46.336 12.248 46.592 10.008L45.328 9.736C45.184 11.064 44.944 12.248 44.592 13.288V13.256C44.416 12.264 44.304 10.808 44.272 8.856H47.136V7.592H46.432C46.272 7.144 46.128 6.728 46 6.36L44.736 6.552C44.896 6.872 45.056 7.208 45.2 7.592H44.24C44.224 7.352 44.224 7.096 44.224 6.84H43.424V6.104H47.024V4.776H43.424V3.896H41.888V4.776H38.128V3.88H36.592V4.776H32.992ZM40 10.776V11.88H38.928V10.776H40ZM38.928 12.968H41.248V14.024H38.928V12.968ZM38.928 15.128H40V16.344H38.928V15.128ZM49.584 5.736V7.176H55.232V9C55.2 9.832 55.104 10.6 54.944 11.336H48.944V12.776H54.528C54.336 13.288 54.096 13.784 53.808 14.232C52.912 15.496 51.232 16.536 48.768 17.352L49.584 18.632C52.048 17.848 53.84 16.728 54.928 15.272C55.36 14.664 55.712 13.976 56 13.208C56.896 15.464 59.04 17.272 62.4 18.632L63.2 17.32C60 16.216 58.016 14.696 57.216 12.776H63.056V11.336H60.096C60.64 10.376 61.088 9.288 61.456 8.088L59.952 7.672C59.536 9.112 59.072 10.344 58.528 11.336H56.528C56.656 10.616 56.752 9.832 56.784 9V7.176H62.416V5.736H56.784V3.896H55.232V5.736H49.584ZM51.952 7.64L50.544 8.104C50.992 9.064 51.376 10.072 51.68 11.112L53.088 10.76C52.768 9.576 52.384 8.536 51.952 7.64ZM66.704 4.12L65.664 5.112C66.768 5.944 67.632 6.744 68.24 7.496L69.28 6.44C68.576 5.672 67.728 4.888 66.704 4.12ZM64.656 8.68V10.136H66.768V15.96C66.768 16.296 66.624 16.584 66.368 16.808L66.944 18.184C68.112 17.432 69.216 16.568 70.256 15.608L69.84 14.008C69.264 14.552 68.736 15.032 68.24 15.448V8.68H64.656ZM70.368 10.584V12.056H71.28C71.664 13.336 72.416 14.504 73.504 15.56C72.352 16.328 70.928 16.952 69.232 17.448L70.08 18.728C71.904 18.184 73.456 17.464 74.704 16.568C75.792 17.368 77.12 18.104 78.72 18.744L79.536 17.432C78.096 16.92 76.848 16.312 75.824 15.64C76.896 14.616 77.664 13.4 78.128 11.976V10.584H70.368ZM72.704 12.056H76.592C76.128 13.048 75.456 13.928 74.592 14.712C73.696 13.912 73.072 13.032 72.704 12.056ZM71.488 4.408V6.472C71.488 7.56 70.8 8.408 69.456 9.016L70.464 10.184C72.144 9.272 72.992 7.976 72.992 6.312V5.832H75.648V8.104C75.648 9.16 76.208 9.704 77.344 9.704H79.152V8.312H77.744C77.344 8.312 77.152 8.12 77.152 7.768V4.408H71.488ZM83.104 4.248L81.952 5.08C82.816 5.976 83.52 6.808 84.064 7.56L85.248 6.744C84.736 6.008 84.032 5.176 83.104 4.248ZM88.848 10.968L87.632 11.736C88.656 12.968 89.456 14.088 90.064 15.096L91.408 14.168C90.8 13.256 89.952 12.184 88.848 10.968ZM86.4 3.88V6.136C86.384 6.68 86.352 7.208 86.32 7.72H81.312V9.208H86.16C85.936 10.696 85.6 11.992 85.136 13.096C84.368 14.776 82.912 16.152 80.768 17.24L81.616 18.584C83.792 17.56 85.344 16.12 86.288 14.248C86.944 12.888 87.408 11.208 87.664 9.208H92.8C92.8 11.144 92.736 12.936 92.64 14.584C92.528 16.216 92.112 17.064 91.376 17.128C90.656 17.128 89.856 17.08 88.992 17L89.392 18.472C89.952 18.52 90.64 18.552 91.472 18.552C92.56 18.552 93.312 17.912 93.744 16.632C94.144 15.352 94.352 12.392 94.352 7.72H87.808C87.84 7.208 87.872 6.68 87.888 6.136V3.88H86.4ZM106.256 3.768V13.576H107.808V5.16H111.52V3.768H106.256ZM125.024 10.36L123.68 10.824C124.208 12.344 124.672 13.912 125.088 15.544C123.824 15.8 122.336 16.04 120.608 16.296L123.92 4.52L122.4 4.312L119.12 16.12C119.056 16.344 118.816 16.52 118.4 16.632L118.688 18.088C121.104 17.736 123.36 17.368 125.44 16.968C125.568 17.512 125.68 18.072 125.808 18.648L127.312 18.264C126.64 15.288 125.888 12.664 125.024 10.36ZM113.008 8.072V9.528H115.616C115.008 11.144 114.016 12.584 112.672 13.864L113.36 15.592C114.32 14.456 115.104 13.208 115.728 11.848V18.6H117.248V11.464C117.664 12.04 118.144 12.808 118.72 13.736L119.584 12.456C118.8 11.56 118.016 10.76 117.248 10.04V9.528H119.712V8.072H117.248V5.864C118.128 5.704 118.96 5.528 119.744 5.336L119.216 3.928C117.424 4.408 115.376 4.728 113.072 4.888L113.392 6.344C114.192 6.28 114.976 6.184 115.728 6.088V8.072H113.008ZM142.784 5.096H136.784C136.624 4.616 136.48 4.168 136.32 3.784L134.704 4.04C134.88 4.36 135.04 4.712 135.2 5.096H129.216V8.552H130.704V6.456H141.296V8.552H142.784V5.096ZM135.296 13.72V16.664H131.888V14.264H130.384V18.648H131.888V18.072H140.352V18.664H141.856V14.056H140.352V16.664H136.8V13.72H135.296ZM135.488 6.632L134.384 7.32C135.024 7.992 135.536 8.616 135.904 9.176L137.008 8.408C136.656 7.896 136.16 7.304 135.488 6.632ZM139.2 6.92C137.936 8.408 136.336 9.672 134.4 10.728V8.344H132.928V11.448C131.632 12.024 130.192 12.52 128.608 12.936L129.216 14.216C130.672 13.816 132.032 13.352 133.312 12.808C133.584 13.128 134.016 13.288 134.624 13.288H138.256C138.912 13.288 139.408 13.16 139.728 12.92C140.08 12.664 140.336 11.912 140.464 10.632L139.04 10.168C138.976 11.032 138.848 11.544 138.656 11.704C138.512 11.848 138.288 11.928 137.968 11.928H135.136C137.216 10.808 138.928 9.416 140.304 7.768L139.2 6.92ZM140.864 8.504L139.76 9.288C140.752 10.472 141.536 11.56 142.128 12.552L143.344 11.72C142.768 10.792 141.936 9.72 140.864 8.504ZM131.376 7.704C130.976 8.904 130.304 10.024 129.344 11.048L130.592 11.832C131.504 10.744 132.208 9.464 132.704 7.992L131.376 7.704ZM148.192 8.904V17.32H144.48V18.712H149.744V8.904H148.192Z"
                        fill="#333333" />
                </svg>
                <div class="private-btns">
                    <svg class="private-btn" v-if="!isChanged" @click="toggleChange" width="40" height="24"
                        viewBox="0 0 40 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_168_2026)">
                            <rect width="40" height="24" rx="12" fill="white" />
                            <circle cx="12" cy="12" r="12" fill="white" stroke="#333333" />
                        </g>
                        <rect x="0.5" y="0.5" width="39" height="23" rx="11.5" stroke="#333333" />
                        <defs>
                            <clipPath id="clip0_168_2026">
                                <rect width="40" height="24" rx="12" fill="white" />
                            </clipPath>
                        </defs>
                    </svg>
                    <svg class="change-btn" v-else @click="toggleChange" width="40" height="24" viewBox="0 0 40 24"
                        fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_168_2235)">
                            <rect width="40" height="24" rx="12" fill="#333333" />
                            <circle cx="28" cy="12" r="12" fill="white" stroke="#333333" />
                        </g>
                        <rect x="0.5" y="0.5" width="39" height="23" rx="11.5" stroke="#333333" />
                        <defs>
                            <clipPath id="clip0_168_2235">
                                <rect width="40" height="24" rx="12" fill="white" />
                            </clipPath>
                        </defs>
                    </svg>
                </div>
            </div>
            <div class="create-section">
                <div class="create-left" @click="showFavForm = false">
                    <span class="create-left-text">取消</span>
                </div>
                <div class="create-right">
                    <button class="create-btn" @click="handleAddFav();">创建</button>
                </div>
            </div>
        </div>
    </div>

    <div class="edit-mask" v-if="showEditForm">
        <div class="edit-content">
            <div class="title-section">
                <span>编辑收藏夹</span>
            </div>
            <div class="form-section">
                <div class="form-block">
                    <div class="form-title">名称</div>
                    <el-input v-model="editFavText" style="width: 519px" maxlength="10" placeholder="请输入空间名称，如：客厅、厨房"
                        show-word-limit type="text" />
                </div>
                <div class="form-block">
                    <div class="form-title">描述（选填）</div>
                    <el-input v-model="editFavTextarea" class="fav-textarea" maxlength="80" style="width: 519px;"
                        placeholder="请输入内容" show-word-limit type="textarea" />
                </div>
            </div>
            <div class="private-section">
                <svg width="182" height="47" viewBox="0 0 182 47" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M1.568 31.402V32.382H4.116V35.602C4.116 35.742 4.102 35.91 4.102 36.092H0.812V37.058H4.046C3.934 38.178 3.738 39.13 3.444 39.942C2.996 41.006 2.198 41.86 1.064 42.504L1.61 43.372C2.842 42.728 3.724 41.818 4.256 40.642C4.676 39.69 4.942 38.5 5.068 37.058H9.114V43.26H10.136V37.058H13.202V36.092H10.136V32.382H12.474V31.402H1.568ZM5.152 32.382H9.114V36.092H5.138C5.138 35.938 5.152 35.77 5.152 35.602V32.382ZM26.222 38.066H18.102V43.456H19.082V42.728H25.242V43.456H26.222V38.066ZM19.082 41.776V39.018H25.242V41.776H19.082ZM25.382 33.026V35.224H17.192V33.026H25.382ZM17.192 36.162H26.376V32.074H21.882C21.658 31.458 21.448 30.912 21.238 30.436L20.188 30.604C20.44 31.052 20.664 31.542 20.86 32.074H16.198V36.764C16.184 39.2 15.638 41.174 14.546 42.714L15.33 43.414C16.562 41.566 17.178 39.34 17.192 36.764V36.162ZM31.192 35.504H41.272V34.524H31.192V32.564C34.608 32.48 37.688 32.172 40.432 31.612L39.928 30.702C37.044 31.304 33.81 31.626 30.198 31.668V35.868C30.114 38.724 29.568 40.964 28.546 42.588L29.288 43.358C30.464 41.496 31.108 39.004 31.192 35.868V35.504ZM40.166 37.464H32.48V43.4H33.488V42.742H39.158V43.4H40.166V37.464ZM33.488 41.762V38.43H39.158V41.762H33.488ZM47.306 32.102V33.012H50.26C49.252 34.51 48.426 35.434 47.782 35.784C47.726 35.812 47.67 35.84 47.586 35.868L47.81 36.736C49.056 36.694 50.232 36.638 51.324 36.568C50.288 37.632 49 38.43 47.46 38.948L47.992 39.788C50.596 38.85 52.584 37.114 53.942 34.566L53.088 34.118C52.78 34.678 52.444 35.21 52.08 35.7C51.072 35.77 50.064 35.826 49.056 35.868C49.714 35.294 50.484 34.342 51.366 33.012H55.44V32.102H52.066C51.842 31.458 51.604 30.884 51.38 30.38L50.33 30.548C50.61 31.024 50.848 31.542 51.058 32.102H47.306ZM52.206 40.586C53.256 41.538 54.096 42.462 54.726 43.33L55.454 42.602C54.726 41.72 53.858 40.852 52.85 39.984C53.788 39.032 54.614 37.912 55.314 36.652L54.46 36.19C52.78 39.298 50.246 41.384 46.872 42.462L47.418 43.33C49.238 42.714 50.834 41.79 52.206 40.586ZM44.296 30.73L43.596 31.416C44.59 32.158 45.374 32.858 45.948 33.516L46.634 32.83C45.99 32.13 45.22 31.43 44.296 30.73ZM42.588 34.846V35.812H44.646V41.412C44.646 41.636 44.534 41.832 44.338 42.014L44.73 42.91C45.682 42.28 46.592 41.552 47.446 40.74L47.166 39.676C46.62 40.208 46.102 40.684 45.612 41.09V34.846H42.588ZM57.26 40.628C58.324 40.348 59.36 40.04 60.34 39.69V43.316H61.334V30.632H60.34V38.71C59.64 38.976 58.94 39.214 58.24 39.41V31.766H57.26V39.438C57.26 39.578 57.148 39.69 56.952 39.774L57.26 40.628ZM64.19 33.684H67.004C66.92 35.616 66.472 37.296 65.632 38.724C64.82 37.576 64.176 36.316 63.672 34.944C63.854 34.552 64.022 34.132 64.19 33.684ZM63.084 36.036C63.588 37.324 64.246 38.514 65.03 39.634C64.162 40.782 62.986 41.72 61.516 42.448L62.09 43.358C63.546 42.574 64.736 41.608 65.66 40.446C66.542 41.538 67.592 42.546 68.81 43.456L69.496 42.644C68.264 41.748 67.2 40.726 66.276 39.578C67.312 37.954 67.872 35.98 67.97 33.684H69.174V32.69H64.498C64.666 32.074 64.82 31.402 64.96 30.688L63.952 30.52C63.546 32.984 62.762 34.958 61.614 36.414L62.244 37.184C62.538 36.834 62.818 36.456 63.084 36.036ZM70.91 31.458V32.34H74.172V33.306H75.208V32.34H78.806V33.32H79.674V33.894H73.36V35.77H72.086V33.418H71.218V36.61H73.36V38.024H70.644V38.864H71.442C71.386 40.502 71.078 41.622 70.518 42.238L71.218 42.784C71.834 42.042 72.184 40.74 72.24 38.864H73.36V39.018C73.332 40.614 73.08 41.846 72.576 42.742L73.304 43.4C73.92 42.294 74.242 40.838 74.27 39.018V34.748H79.688C79.744 36.568 79.884 38.052 80.108 39.2C80.192 39.676 80.304 40.11 80.43 40.516C80.038 41.174 79.576 41.72 79.044 42.168V41.594H77.812V40.264H79.03V37.604H77.812V36.386H79.044V35.574H75.054V42.406H78.722L78.484 42.56L78.96 43.316C79.66 42.896 80.276 42.322 80.808 41.594C80.92 41.874 81.032 42.112 81.172 42.336C81.592 43.008 81.998 43.358 82.362 43.358C82.81 43.358 83.16 42.49 83.398 40.754L82.67 40.348C82.53 41.608 82.362 42.238 82.194 42.252C82.054 42.252 81.844 41.972 81.592 41.44C81.494 41.244 81.41 41.006 81.326 40.726C81.984 39.466 82.418 37.856 82.642 35.868L81.788 35.686C81.648 37.072 81.382 38.276 80.99 39.312C80.962 39.172 80.934 39.018 80.906 38.85C80.738 37.898 80.626 36.526 80.57 34.748H83.202V33.894H82.502C82.362 33.446 82.208 33.054 82.068 32.704L81.214 32.844C81.382 33.166 81.536 33.516 81.676 33.894H80.556V33.11H79.842V32.34H83.104V31.458H79.842V30.576H78.806V31.458H75.208V30.562H74.172V31.458H70.91ZM77.014 36.386V37.604H75.88V36.386H77.014ZM75.88 38.346H78.246V39.508H75.88V38.346ZM75.88 40.264H77.014V41.594H75.88V40.264ZM85.428 32.298V33.25H90.482V35.154C90.454 35.882 90.37 36.554 90.244 37.198H84.868V38.15H89.992C89.796 38.738 89.53 39.27 89.208 39.774C88.354 40.908 86.856 41.818 84.7 42.518L85.246 43.358C87.416 42.672 88.984 41.72 89.936 40.488C90.384 39.872 90.748 39.158 91.014 38.332C91.756 40.446 93.66 42.112 96.74 43.344L97.272 42.476C94.36 41.44 92.554 39.998 91.868 38.15H97.132V37.198H94.276C94.808 36.302 95.256 35.294 95.62 34.146L94.612 33.866C94.206 35.182 93.744 36.288 93.226 37.198H91.294C91.406 36.568 91.476 35.882 91.504 35.154V33.25H96.572V32.298H91.504V30.576H90.482V32.298H85.428ZM87.304 33.88L86.38 34.188C86.772 35.056 87.108 35.952 87.374 36.876L88.312 36.638C88.018 35.602 87.682 34.692 87.304 33.88ZM103.39 37.352V38.318H108.71V41.846C108.71 42.252 108.472 42.462 108.024 42.462C107.478 42.462 106.904 42.434 106.302 42.392L106.512 43.358H108.374C109.27 43.358 109.718 42.938 109.718 42.098V38.318H111.412V37.352H109.718V35.938H108.71V37.352H103.39ZM101.542 30.562V37.534C100.366 38.57 99.372 39.354 98.532 39.858L98.98 40.824C99.764 40.306 100.618 39.62 101.542 38.752V43.386H102.564V30.562H101.542ZM105.168 38.892L104.426 39.354C105.154 40.208 105.742 40.992 106.176 41.692L106.96 41.132C106.54 40.488 105.952 39.746 105.168 38.892ZM106.148 32.522H109.788C109.326 33.334 108.57 34.034 107.52 34.608C107.058 34.174 106.568 33.768 106.05 33.39L105.336 33.936C105.77 34.244 106.218 34.594 106.666 35.014C105.826 35.35 104.86 35.644 103.754 35.882L104.258 36.778C107.87 35.952 110.082 34.51 110.88 32.466V31.598H106.792C106.946 31.318 107.086 31.038 107.212 30.744L106.176 30.548C105.644 31.822 104.622 32.844 103.096 33.6L103.74 34.384C104.706 33.88 105.504 33.264 106.148 32.522ZM99.414 32.2L98.546 32.55C99.162 33.418 99.722 34.44 100.226 35.616L101.108 35.252C100.632 34.174 100.072 33.152 99.414 32.2ZM115.598 30.478C114.954 32.648 113.918 34.58 112.49 36.26L112.812 37.296C113.344 36.722 113.834 36.12 114.282 35.49V43.428H115.304V33.852C115.794 32.928 116.2 31.962 116.536 30.926L115.598 30.478ZM124.782 43.4L125.468 42.588C123.956 41.594 122.682 40.502 121.674 39.298C122.99 37.394 123.886 35.07 124.362 32.34V31.444H117.124V32.41H117.852C118.076 34.93 118.93 37.212 120.428 39.256C119.364 40.6 118.034 41.706 116.424 42.574L117.11 43.414C118.664 42.532 119.994 41.426 121.086 40.082C122.066 41.258 123.298 42.364 124.782 43.4ZM121.016 38.458C119.728 36.666 119 34.65 118.804 32.41H123.34C122.92 34.748 122.15 36.764 121.016 38.458ZM137.704 32.228H132.342C132.622 31.752 132.846 31.22 133 30.66L131.978 30.52C131.838 31.108 131.6 31.668 131.292 32.228H128.296V43.386H129.318V42.518H136.682V43.386H137.704V32.228ZM129.318 41.552V39.27H136.682V41.552H129.318ZM129.318 38.346V36.204H136.682V38.346H129.318ZM129.318 35.28V33.194H136.682V35.28H129.318ZM153.244 39.354L152.264 39.032C152.194 40.194 152.068 40.964 151.9 41.356C151.704 41.762 151.284 41.972 150.626 41.972H143.934C143.206 41.944 142.842 41.622 142.842 40.978V36.904H151.69V31.304H141.638V32.284H150.682V35.924H141.82V41.328C141.82 42.392 142.38 42.938 143.528 42.938H150.794C151.69 42.938 152.292 42.714 152.586 42.28C152.894 41.832 153.104 40.852 153.244 39.354ZM154.77 31.402V32.382H164.402V41.65C164.402 42.126 164.164 42.378 163.716 42.378C163.016 42.378 162.274 42.35 161.504 42.322L161.728 43.302H164.066C164.962 43.302 165.41 42.826 165.41 41.902V32.382H167.258V31.402H154.77ZM161.84 34.524H156.394V40.894H157.374V39.662H161.84V34.524ZM157.374 38.738V35.434H160.874V38.738H157.374ZM179.046 31.15H170.8V38.864H171.808V32.13H178.024V38.85H179.046V31.15ZM174.328 33.068V35.7C174.272 37.464 173.866 38.906 173.11 40.012C172.298 41.076 170.856 41.93 168.784 42.574L169.33 43.428C171.416 42.77 172.914 41.86 173.824 40.698C174.762 39.452 175.266 37.786 175.322 35.7V33.068H174.328ZM179.312 43.134C179.788 43.12 180.152 43.008 180.404 42.784C180.67 42.504 180.866 41.692 180.992 40.376L180.026 40.068C179.97 41.16 179.83 41.804 179.634 41.986C179.48 42.112 179.284 42.182 179.046 42.182H176.848C176.428 42.182 176.232 41.916 176.232 41.412V37.842H175.238V41.594C175.238 42.616 175.672 43.134 176.568 43.134H179.312Z"
                        fill="#666666" />
                    <path
                        d="M6.112 11.512V12.968H12.064V16.616C12.064 17.032 11.824 17.24 11.344 17.24C10.72 17.24 10.08 17.208 9.408 17.144L9.744 18.6H11.872C12.992 18.6 13.568 18.056 13.568 17V12.968H15.376V11.512H13.568V10.024H12.064V11.512H6.112ZM3.872 3.88V11.848C2.576 13 1.456 13.848 0.512 14.424L1.184 15.896C2.016 15.32 2.912 14.584 3.872 13.672V18.632H5.408V3.88H3.872ZM8.352 13.368L7.232 14.072C8.032 15.016 8.656 15.88 9.136 16.648L10.32 15.816C9.872 15.112 9.216 14.296 8.352 13.368ZM9.376 6.344H13.184C12.704 7.112 11.92 7.768 10.864 8.328C10.4 7.896 9.904 7.48 9.376 7.08L8.304 7.896C8.704 8.184 9.12 8.52 9.552 8.904C8.688 9.224 7.664 9.512 6.512 9.736L7.264 11.096C11.504 10.184 14.032 8.568 14.864 6.248V4.952H10.336C10.464 4.696 10.592 4.424 10.72 4.152L9.152 3.864C8.576 5.24 7.44 6.328 5.76 7.16L6.736 8.344C7.792 7.8 8.672 7.144 9.376 6.344ZM1.856 5.704L0.544 6.232C1.184 7.256 1.76 8.44 2.304 9.8L3.632 9.24C3.136 7.992 2.544 6.824 1.856 5.704ZM17.36 15.576C18.544 15.272 19.696 14.92 20.784 14.536V18.536H22.272V17.32L23.072 18.616C24.672 17.752 25.984 16.696 27.024 15.448C27.984 16.648 29.12 17.752 30.432 18.744L31.472 17.512C30.128 16.52 28.944 15.4 27.952 14.152C29.04 12.328 29.664 10.168 29.792 7.672H31.056V6.184H26C26.16 5.528 26.32 4.824 26.448 4.088L24.928 3.832C24.48 6.648 23.616 8.888 22.352 10.552L23.28 11.704C23.568 11.352 23.856 10.984 24.128 10.568C24.656 11.848 25.312 13.064 26.096 14.2C25.136 15.416 23.856 16.424 22.272 17.192V3.96H20.784V13.08C20.128 13.336 19.472 13.56 18.8 13.768V5.288H17.312V13.832C17.312 14.04 17.168 14.2 16.912 14.296L17.36 15.576ZM25.536 7.672H28.352C28.24 9.64 27.792 11.368 26.992 12.84C26.192 11.656 25.52 10.36 25.008 8.952C25.2 8.536 25.376 8.12 25.536 7.672ZM32.992 4.776V6.104H36.592V7.048H38.128V6.104H41.888V7.064H42.912V7.592H35.68V9.704H34.56V7.208H33.264V10.968H35.68V12.328H32.688V13.592H33.536C33.456 15.32 33.12 16.504 32.544 17.16L33.568 17.976C34.24 17.144 34.608 15.672 34.704 13.592H35.68C35.648 15.336 35.392 16.696 34.88 17.672L35.968 18.664C36.64 17.368 37.008 15.656 37.04 13.528V8.856H42.944C43.008 10.904 43.168 12.552 43.424 13.832C43.52 14.328 43.632 14.792 43.76 15.208C43.376 15.864 42.912 16.424 42.368 16.888V16.344H41.168V15.128H42.4V11.88H41.168V10.776H42.368V9.592H37.728V17.544H41.648L42.288 18.584C43.056 18.136 43.744 17.544 44.32 16.776C44.416 17.016 44.544 17.24 44.672 17.432C45.168 18.2 45.632 18.6 46.08 18.6C46.656 18.6 47.104 17.592 47.392 15.576L46.304 14.968C46.144 16.248 46 16.904 45.856 16.904C45.728 16.904 45.552 16.616 45.296 16.056C45.232 15.912 45.168 15.736 45.104 15.528C45.84 14.088 46.336 12.248 46.592 10.008L45.328 9.736C45.184 11.064 44.944 12.248 44.592 13.288V13.256C44.416 12.264 44.304 10.808 44.272 8.856H47.136V7.592H46.432C46.272 7.144 46.128 6.728 46 6.36L44.736 6.552C44.896 6.872 45.056 7.208 45.2 7.592H44.24C44.224 7.352 44.224 7.096 44.224 6.84H43.424V6.104H47.024V4.776H43.424V3.896H41.888V4.776H38.128V3.88H36.592V4.776H32.992ZM40 10.776V11.88H38.928V10.776H40ZM38.928 12.968H41.248V14.024H38.928V12.968ZM38.928 15.128H40V16.344H38.928V15.128ZM49.584 5.736V7.176H55.232V9C55.2 9.832 55.104 10.6 54.944 11.336H48.944V12.776H54.528C54.336 13.288 54.096 13.784 53.808 14.232C52.912 15.496 51.232 16.536 48.768 17.352L49.584 18.632C52.048 17.848 53.84 16.728 54.928 15.272C55.36 14.664 55.712 13.976 56 13.208C56.896 15.464 59.04 17.272 62.4 18.632L63.2 17.32C60 16.216 58.016 14.696 57.216 12.776H63.056V11.336H60.096C60.64 10.376 61.088 9.288 61.456 8.088L59.952 7.672C59.536 9.112 59.072 10.344 58.528 11.336H56.528C56.656 10.616 56.752 9.832 56.784 9V7.176H62.416V5.736H56.784V3.896H55.232V5.736H49.584ZM51.952 7.64L50.544 8.104C50.992 9.064 51.376 10.072 51.68 11.112L53.088 10.76C52.768 9.576 52.384 8.536 51.952 7.64ZM66.704 4.12L65.664 5.112C66.768 5.944 67.632 6.744 68.24 7.496L69.28 6.44C68.576 5.672 67.728 4.888 66.704 4.12ZM64.656 8.68V10.136H66.768V15.96C66.768 16.296 66.624 16.584 66.368 16.808L66.944 18.184C68.112 17.432 69.216 16.568 70.256 15.608L69.84 14.008C69.264 14.552 68.736 15.032 68.24 15.448V8.68H64.656ZM70.368 10.584V12.056H71.28C71.664 13.336 72.416 14.504 73.504 15.56C72.352 16.328 70.928 16.952 69.232 17.448L70.08 18.728C71.904 18.184 73.456 17.464 74.704 16.568C75.792 17.368 77.12 18.104 78.72 18.744L79.536 17.432C78.096 16.92 76.848 16.312 75.824 15.64C76.896 14.616 77.664 13.4 78.128 11.976V10.584H70.368ZM72.704 12.056H76.592C76.128 13.048 75.456 13.928 74.592 14.712C73.696 13.912 73.072 13.032 72.704 12.056ZM71.488 4.408V6.472C71.488 7.56 70.8 8.408 69.456 9.016L70.464 10.184C72.144 9.272 72.992 7.976 72.992 6.312V5.832H75.648V8.104C75.648 9.16 76.208 9.704 77.344 9.704H79.152V8.312H77.744C77.344 8.312 77.152 8.12 77.152 7.768V4.408H71.488ZM83.104 4.248L81.952 5.08C82.816 5.976 83.52 6.808 84.064 7.56L85.248 6.744C84.736 6.008 84.032 5.176 83.104 4.248ZM88.848 10.968L87.632 11.736C88.656 12.968 89.456 14.088 90.064 15.096L91.408 14.168C90.8 13.256 89.952 12.184 88.848 10.968ZM86.4 3.88V6.136C86.384 6.68 86.352 7.208 86.32 7.72H81.312V9.208H86.16C85.936 10.696 85.6 11.992 85.136 13.096C84.368 14.776 82.912 16.152 80.768 17.24L81.616 18.584C83.792 17.56 85.344 16.12 86.288 14.248C86.944 12.888 87.408 11.208 87.664 9.208H92.8C92.8 11.144 92.736 12.936 92.64 14.584C92.528 16.216 92.112 17.064 91.376 17.128C90.656 17.128 89.856 17.08 88.992 17L89.392 18.472C89.952 18.52 90.64 18.552 91.472 18.552C92.56 18.552 93.312 17.912 93.744 16.632C94.144 15.352 94.352 12.392 94.352 7.72H87.808C87.84 7.208 87.872 6.68 87.888 6.136V3.88H86.4ZM106.256 3.768V13.576H107.808V5.16H111.52V3.768H106.256ZM125.024 10.36L123.68 10.824C124.208 12.344 124.672 13.912 125.088 15.544C123.824 15.8 122.336 16.04 120.608 16.296L123.92 4.52L122.4 4.312L119.12 16.12C119.056 16.344 118.816 16.52 118.4 16.632L118.688 18.088C121.104 17.736 123.36 17.368 125.44 16.968C125.568 17.512 125.68 18.072 125.808 18.648L127.312 18.264C126.64 15.288 125.888 12.664 125.024 10.36ZM113.008 8.072V9.528H115.616C115.008 11.144 114.016 12.584 112.672 13.864L113.36 15.592C114.32 14.456 115.104 13.208 115.728 11.848V18.6H117.248V11.464C117.664 12.04 118.144 12.808 118.72 13.736L119.584 12.456C118.8 11.56 118.016 10.76 117.248 10.04V9.528H119.712V8.072H117.248V5.864C118.128 5.704 118.96 5.528 119.744 5.336L119.216 3.928C117.424 4.408 115.376 4.728 113.072 4.888L113.392 6.344C114.192 6.28 114.976 6.184 115.728 6.088V8.072H113.008ZM142.784 5.096H136.784C136.624 4.616 136.48 4.168 136.32 3.784L134.704 4.04C134.88 4.36 135.04 4.712 135.2 5.096H129.216V8.552H130.704V6.456H141.296V8.552H142.784V5.096ZM135.296 13.72V16.664H131.888V14.264H130.384V18.648H131.888V18.072H140.352V18.664H141.856V14.056H140.352V16.664H136.8V13.72H135.296ZM135.488 6.632L134.384 7.32C135.024 7.992 135.536 8.616 135.904 9.176L137.008 8.408C136.656 7.896 136.16 7.304 135.488 6.632ZM139.2 6.92C137.936 8.408 136.336 9.672 134.4 10.728V8.344H132.928V11.448C131.632 12.024 130.192 12.52 128.608 12.936L129.216 14.216C130.672 13.816 132.032 13.352 133.312 12.808C133.584 13.128 134.016 13.288 134.624 13.288H138.256C138.912 13.288 139.408 13.16 139.728 12.92C140.08 12.664 140.336 11.912 140.464 10.632L139.04 10.168C138.976 11.032 138.848 11.544 138.656 11.704C138.512 11.848 138.288 11.928 137.968 11.928H135.136C137.216 10.808 138.928 9.416 140.304 7.768L139.2 6.92ZM140.864 8.504L139.76 9.288C140.752 10.472 141.536 11.56 142.128 12.552L143.344 11.72C142.768 10.792 141.936 9.72 140.864 8.504ZM131.376 7.704C130.976 8.904 130.304 10.024 129.344 11.048L130.592 11.832C131.504 10.744 132.208 9.464 132.704 7.992L131.376 7.704ZM148.192 8.904V17.32H144.48V18.712H149.744V8.904H148.192Z"
                        fill="#333333" />
                </svg>
                <div class="private-btns">
                    <svg class="private-btn" v-if="!isChanged" @click="toggleChange" width="40" height="24"
                        viewBox="0 0 40 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_168_2026)">
                            <rect width="40" height="24" rx="12" fill="white" />
                            <circle cx="12" cy="12" r="12" fill="white" stroke="#333333" />
                        </g>
                        <rect x="0.5" y="0.5" width="39" height="23" rx="11.5" stroke="#333333" />
                        <defs>
                            <clipPath id="clip0_168_2026">
                                <rect width="40" height="24" rx="12" fill="white" />
                            </clipPath>
                        </defs>
                    </svg>
                    <svg class="change-btn" v-else @click="toggleChange" width="40" height="24" viewBox="0 0 40 24"
                        fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_168_2235)">
                            <rect width="40" height="24" rx="12" fill="#333333" />
                            <circle cx="28" cy="12" r="12" fill="white" stroke="#333333" />
                        </g>
                        <rect x="0.5" y="0.5" width="39" height="23" rx="11.5" stroke="#333333" />
                        <defs>
                            <clipPath id="clip0_168_2235">
                                <rect width="40" height="24" rx="12" fill="white" />
                            </clipPath>
                        </defs>
                    </svg>
                </div>
            </div>
            <div class="create-section">
                <div class="create-left">
                    <button class="remove-fav-btn" @click="handleDeleteFav()">移除收藏夹</button>
                </div>
                <div class="create-right">
                    <button class="cancel-btn" @click="showEditForm = false">取消</button>
                    <button class="create-btn" @click="handleSaveFavUpdate()">保存</button>
                </div>
            </div>
        </div>
    </div>
</template>
